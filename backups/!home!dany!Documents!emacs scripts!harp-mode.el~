(setq notes '("C" "C#" "D" "D#" "E" "F" "F#" "G" "G#" "A" "A#" "B") )
(setq notes-flats '("C" "Db" "D" "Eb" "E" "F" "Gb" "G" "Ab" "A" "Bb" "B") )

(defun cycle (seq n)
  "Returns a lazy sequence of the items in the given sequence repeated infinitely"
  (elt seq (mod n (length seq))))

(defun to-flat (note)
  (elt notes-flats (cl-position note notes :test 'string=)))

(to-flat "A#")

(cycle notes 2)
(cl-position "A" notes :test 'string=)

(defun fifth-above (note)
  (let ((note-index (cl-position note notes :test 'string=)))
    (cycle notes (+ note-index 7))))

(defun fifth-below (note)
  (let ((note-index (cl-position note notes :test 'string=)))
    (cycle notes (- note-index 7))))

(fifth-above "A")
(fifth-below "A")
(fifth-above (fifth-below "A"))

(defun shift-pitch (note delta)
  (let ((note-index (cl-position note notes :test 'string=)))
    (cycle notes (+ note-index delta))))

(setq c-harp '(("1" . "C") ("-1" . "D") ("-1'" . "C#") ("2" . "E") ("-2" . "G") ("-2'" . "F#") ("-2''". "F")
               ("3" . "G") ("-3" . "B") ("-3'" . "A#") ("-3''" . "A") ("-3'''" . "G#")))

(map 'message (car (car c-harp)))

(message 
