def buy_low_sell_high(stock_prices):
    old_buy_i = 0
    old_sell_i = 0
    buy_i = 0
    sell_i = 0
    ptr = 0
    while ptr < len(stock_prices):
        if stock_prices[ptr] > stock_prices[buy_i]:
            old_buy_i = buy_i
            old_sell_i = sell_i
            buy_i = ptr
            sell_i = ptr
        elif stock_prices[ptr] < stock_prices[sell_i]:
            old_sell_i = ptr
            sell_i = ptr
        ptr += 1
    delta_new = stock_prices[buy_i] - stock_prices[sell_i]
    delta_old = stock_prices[old_buy_i] - stock_prices[old_sell_i]
    if delta_old > delta_new:
        sell_i = old_sell_i
        buy_i = old_buy_i
    return [buy_i, sell_i]

buy_low_sell_high([ 8, 10, 4, 5, 4, 3, 2 ])
